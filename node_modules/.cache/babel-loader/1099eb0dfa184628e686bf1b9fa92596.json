{"ast":null,"code":"import _slicedToArray from \"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/webapp/rcm/pages/RecomBox.jsx\";\n\nimport { Button, SvgIcon } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport styles from '../styles/RecomBox.module.scss';\nimport axios from 'axios';\n\nvar ResultCourse = function ResultCourse(_ref) {\n  var recom = _ref.recom;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.boxCourse,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    style: {\n      display: \"inline-block\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://blog.kakaocdn.net/dn/nH7W6/btq2hJWcGQs/E2JTaem8tohYPLrJhoUTNk/img.png\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 50\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    style: {\n      marginTop: \"10px\",\n      marginBottom: \"24px\",\n      width: \"100px\",\n      backgroundColor: \"#B0B0B0\",\n      height: \"4px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 17\n    }\n  })), recom.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: styles.li,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"250px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SvgIcon, {\n      style: {\n        fontSize: \"50px\",\n        color: \"#1E90FF\"\n      },\n      viewBox: '0 0 30 50',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M17.23,0A17.22,17.22,0,0,0,0,17.23C0,24.46,10,38.49,14.74,44.8a3.12,3.12,0,0,0,5,0c4.77-6.31,14.74-20.34,14.74-27.57A17.23,17.23,0,0,0,17.23,0Zm2.16,26.43a9.45,9.45,0,1,1,7-7A9.46,9.46,0,0,1,19.39,26.43Z\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(\"hr\", {\n      style: {\n        marginTop: \"10px\",\n        marginBottom: \"10px\",\n        width: \"250px\",\n        backgroundColor: \"#B0B0B0\",\n        height: \"4px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"center\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        fontSize: \"13px\",\n        width: \"300px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 33\n      }\n    }, item.place.title)));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: '120px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 41\n    }\n  })));\n};\n\nexport default (function (_ref2) {\n  var recom = _ref2.recom,\n      index = _ref2.index;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      score = _useState2[0],\n      setScore = _useState2[1];\n\n  var currentUser = useSelector(function (state) {\n    return state.accountReducer.currentUser;\n  });\n  var history = useHistory();\n\n  var handleDetail = function handleDetail(e) {\n    e.preventDefault();\n\n    if (currentUser == null) {\n      alert('로그인이 필요한 서비스입니다.');\n    } else {\n      history.push(\"/course/detail\");\n    }\n  };\n\n  var handleSave = function handleSave(e) {\n    e.preventDefault();\n\n    if (currentUser == null) {\n      alert('로그인이 필요한 서비스입니다.');\n    } else {\n      axios.post(process.env.REACT_APP_API_URL + '/course/save', {\n        crsName: \"\\uB098\\uB9CC\\uC758 \\uCF54\\uC2A4\".concat(Math.ceil(Math.random() * 100)),\n        places: Array.from(recom, function (v) {\n          return v.place.contentid;\n        }),\n        num: currentUser.num\n      }).then(alert('성공적으로 저장 했습니다.')).catch(function (err) {\n        return alert(err);\n      });\n    }\n  };\n\n  console.log(recom);\n  useEffect(function () {\n    var _loop = function _loop(i) {\n      setScore(function (score) {\n        return score + recom[i].score;\n      });\n    };\n\n    for (var i = 0; i < recom.length; i++) {\n      _loop(i);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.recomBox,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.boxInfo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 51\n    }\n  }, \"\\uCD94\\uCC9C\\uCF54\\uC2A4\", index + 1)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.score,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 51\n    }\n  }, \"\\uCD94\\uCC9C\\uB3C4:\", Math.ceil(score / 80 * 100), \"%\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.btn_box,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      fontSize: \"13px\"\n    },\n    onClick: handleDetail,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 53\n    }\n  }, \"\\uC0C1\\uC138\\uBCF4\\uAE30\"), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      fontSize: \"13px\"\n    },\n    onClick: handleSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 53\n    }\n  }, \"\\uC800\\uC7A5\\uD558\\uAE30\"))), /*#__PURE__*/React.createElement(ResultCourse, {\n    recom: recom,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  })));\n});","map":{"version":3,"sources":["/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/webapp/rcm/pages/RecomBox.jsx"],"names":["Button","SvgIcon","React","useEffect","useState","useSelector","useHistory","styles","axios","ResultCourse","recom","boxCourse","display","marginTop","marginBottom","width","backgroundColor","height","map","item","li","fontSize","color","place","title","index","score","setScore","currentUser","state","accountReducer","history","handleDetail","e","preventDefault","alert","push","handleSave","post","process","env","REACT_APP_API_URL","crsName","Math","ceil","random","places","Array","from","v","contentid","num","then","catch","err","console","log","i","length","recomBox","boxInfo","btn_box"],"mappings":"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","sourcesContent":["import { Button, SvgIcon } from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {useHistory} from 'react-router'\nimport styles from '../styles/RecomBox.module.scss'\nimport axios from 'axios'\n\nconst ResultCourse = ({ recom }) => {\n    return <div className={styles.boxCourse}>\n        <ul>\n            <li style={{display:\"inline-block\"}}><img src=\"https://blog.kakaocdn.net/dn/nH7W6/btq2hJWcGQs/E2JTaem8tohYPLrJhoUTNk/img.png\"/>\n                <hr style={{marginTop: \"10px\", marginBottom: \"24px\",\n                            width: \"100px\", backgroundColor: \"#B0B0B0\", height: \"4px\" }} />\n            </li>\n            {recom.map((item) => {\n                return <li className={styles.li}>\n                        <center>\n                        <div style={{ width: \"250px\" }}>\n                            <SvgIcon style={{ fontSize: \"50px\", color: \"#1E90FF\" }} viewBox={'0 0 30 50'}>\n                                <path d=\"M17.23,0A17.22,17.22,0,0,0,0,17.23C0,24.46,10,38.49,14.74,44.8a3.12,3.12,0,0,0,5,0c4.77-6.31,14.74-20.34,14.74-27.57A17.23,17.23,0,0,0,17.23,0Zm2.16,26.43a9.45,9.45,0,1,1,7-7A9.46,9.46,0,0,1,19.39,26.43Z\">\n                                </path>\n                            </SvgIcon>\n                        </div>\n                              \n                         </center>\n                            <hr style={{\n                                marginTop: \"10px\", marginBottom: \"10px\",\n                                width: \"250px\", backgroundColor: \"#B0B0B0\", height: \"4px\" }} />\n                            <center>\n                                <p style={{ fontSize:\"13px\", width: \"300px\" }} >{item.place.title}</p>\n                            </center>\n                        </li> })}\n        </ul>\n        <div style={{fontSize:'120px'}}><br/></div>\n           </div>\n}\n\nexport default ({recom, index})=>{\n    const [score,setScore] = useState(0)\n    const currentUser = useSelector(state=>state.accountReducer.currentUser)\n    const history = useHistory()\n\n    const handleDetail = (e)=>{\n        e.preventDefault()\n        if(currentUser==null){\n            alert('로그인이 필요한 서비스입니다.')\n        }else{\n            history.push(\"/course/detail\")\n        }\n    }\n    const handleSave = (e)=>{\n        e.preventDefault()\n        if(currentUser==null){\n            alert('로그인이 필요한 서비스입니다.')\n        }else{\n            axios.post(process.env.REACT_APP_API_URL+'/course/save',{\n                crsName:`나만의 코스${Math.ceil(Math.random()*100)}`,\n                places:Array.from(recom,v=>v.place.contentid),\n                num:currentUser.num\n            }).then(alert('성공적으로 저장 했습니다.'))\n            .catch(err=>alert(err))\n        }\n    }\n    console.log(recom)\n    useEffect(()=>{\n        for(let i=0;i<recom.length;i++){\n            setScore(score=>score+recom[i].score)\n        }\n    },[])\n\n    return <>\n            <div className={styles.recomBox}>\n                <div className={styles.boxInfo}>\n                    <div className={styles.title}><span>추천코스{index + 1}</span></div>\n                    <div className={styles.score}><span>추천도:{Math.ceil(score/80*100)}%</span></div>\n                    <div className={styles.btn_box}><Button style={{fontSize:\"13px\"} }onClick={handleDetail}>상세보기</Button>\n                                                    <Button style={{fontSize:\"13px\"} }onClick={handleSave}>저장하기</Button></div>\n                </div>\n                <ResultCourse recom={recom} />\n            </div>\n        </>\n}"]},"metadata":{},"sourceType":"module"}