{"ast":null,"code":"import _regeneratorRuntime from \"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _createForOfIteratorHelper from \"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _objectSpread from \"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nvar listeners = [];\nvar state = {\n  data: {\n    menu: [{\n      name: \"홈\",\n      url: \"/\"\n    }, {\n      name: \"코스추천\",\n      url: \"/survey\"\n    }, {\n      name: \"관광지\",\n      url: \"/place\"\n    }, {\n      name: \"나의 코스관리\",\n      url: \"/mypage\"\n    }, {\n      name: \"관리자 페이지\",\n      url: \"/manage\",\n      auth: \"admin\"\n    }],\n    categories: [{\n      id: \"12\",\n      title: \"관광지\"\n    }, {\n      id: \"14\",\n      title: \"문화시설\"\n    }, {\n      id: \"15\",\n      title: \"축제/공연/행사\"\n    }, {\n      id: \"25\",\n      title: \"여행코스\"\n    }, {\n      id: \"28\",\n      title: \"레포츠\"\n    }, {\n      id: \"32\",\n      title: \"쇼핑\"\n    }, {\n      id: \"39\",\n      title: \"음식\"\n    }]\n  },\n  error: null,\n  sidebar: false,\n  modal: false,\n  video: false,\n  request: {\n    modal: false,\n    text: \"\"\n  }\n};\nvar actions = {\n  fetch: function () {\n    var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, _iterator, _step, listener;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"/api/data\");\n\n            case 3:\n              response = _context.sent;\n              state = _objectSpread(_objectSpread({}, state), {}, {\n                data: response.data\n              });\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              state = _objectSpread(_objectSpread({}, state), {}, {\n                error: _context.t0\n              });\n\n            case 10:\n              _iterator = _createForOfIteratorHelper(listeners);\n\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  listener = _step.value;\n                  listener(state);\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    function fetch() {\n      return _fetch.apply(this, arguments);\n    }\n\n    return fetch;\n  }(),\n  toogleSidebar: function toogleSidebar() {\n    state = _objectSpread(_objectSpread({}, state), {}, {\n      sidebar: !state.sidebar\n    });\n\n    var _iterator2 = _createForOfIteratorHelper(listeners),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var listener = _step2.value;\n        listener(state);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  },\n  toogleModal: function toogleModal() {\n    state = _objectSpread(_objectSpread({}, state), {}, {\n      modal: !state.modal\n    });\n\n    var _iterator3 = _createForOfIteratorHelper(listeners),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var listener = _step3.value;\n        listener(state);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  },\n  toogleRequest: function toogleRequest(payload) {\n    state = _objectSpread(_objectSpread({}, state), {}, {\n      request: {\n        modal: !state.request.modal,\n        text: payload\n      }\n    });\n\n    var _iterator4 = _createForOfIteratorHelper(listeners),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var listener = _step4.value;\n        listener(state);\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n  },\n  toogleVideo: function toogleVideo() {\n    state = _objectSpread(_objectSpread({}, state), {}, {\n      video: !state.video\n    });\n\n    var _iterator5 = _createForOfIteratorHelper(listeners),\n        _step5;\n\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var listener = _step5.value;\n        listener(state);\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n  }\n};\nexport var useCustomState = function useCustomState() {\n  var setState = useState(state)[1];\n  useEffect(function () {\n    listeners.push(setState);\n    return function () {\n      listeners = listeners.filter(function (li) {\n        return li !== setState;\n      });\n    };\n  }, [setState]);\n  return [state, actions];\n};","map":{"version":3,"sources":["/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/webapp/cmm/state/State.jsx"],"names":["useState","useEffect","axios","listeners","state","data","menu","name","url","auth","categories","id","title","error","sidebar","modal","video","request","text","actions","fetch","get","response","listener","toogleSidebar","toogleModal","toogleRequest","payload","toogleVideo","useCustomState","setState","push","filter","li"],"mappings":";;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAIC,SAAS,GAAG,EAAhB;AAEA,IAAIC,KAAK,GAAG;AACVC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAE,CACJ;AACEC,MAAAA,IAAI,EAAE,GADR;AAEEC,MAAAA,GAAG,EAAE;AAFP,KADI,EAKJ;AACED,MAAAA,IAAI,EAAE,MADR;AAEEC,MAAAA,GAAG,EAAE;AAFP,KALI,EASJ;AACED,MAAAA,IAAI,EAAE,KADR;AAEEC,MAAAA,GAAG,EAAE;AAFP,KATI,EAaJ;AACED,MAAAA,IAAI,EAAE,SADR;AAEEC,MAAAA,GAAG,EAAE;AAFP,KAbI,EAkBJ;AAAED,MAAAA,IAAI,EAAE,SAAR;AACEC,MAAAA,GAAG,EAAE,SADP;AAEEC,MAAAA,IAAI,EAAC;AAFP,KAlBI,CADF;AAwBJC,IAAAA,UAAU,EAAE,CACV;AACEC,MAAAA,EAAE,EAAE,IADN;AAEEC,MAAAA,KAAK,EAAE;AAFT,KADU,EAKV;AACED,MAAAA,EAAE,EAAE,IADN;AAEEC,MAAAA,KAAK,EAAE;AAFT,KALU,EASV;AACED,MAAAA,EAAE,EAAE,IADN;AAEEC,MAAAA,KAAK,EAAE;AAFT,KATU,EAaV;AACED,MAAAA,EAAE,EAAE,IADN;AAEEC,MAAAA,KAAK,EAAE;AAFT,KAbU,EAiBV;AACED,MAAAA,EAAE,EAAE,IADN;AAEEC,MAAAA,KAAK,EAAE;AAFT,KAjBU,EAqBV;AACED,MAAAA,EAAE,EAAE,IADN;AAEEC,MAAAA,KAAK,EAAE;AAFT,KArBU,EAyBV;AACED,MAAAA,EAAE,EAAE,IADN;AAEEC,MAAAA,KAAK,EAAE;AAFT,KAzBU;AAxBR,GADI;AA0DVC,EAAAA,KAAK,EAAE,IA1DG;AA2DVC,EAAAA,OAAO,EAAE,KA3DC;AA4DVC,EAAAA,KAAK,EAAE,KA5DG;AA6DVC,EAAAA,KAAK,EAAE,KA7DG;AA8DVC,EAAAA,OAAO,EAAE;AACPF,IAAAA,KAAK,EAAE,KADA;AAEPG,IAAAA,IAAI,EAAE;AAFC;AA9DC,CAAZ;AAoEA,IAAMC,OAAO,GAAG;AACdC,EAAAA,KAAK;AAAA,0EAAE;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEoBlB,KAAK,CAACmB,GAAN,CACrB,WADqB,CAFpB;;AAAA;AAEGC,cAAAA,QAFH;AAKHlB,cAAAA,KAAK,mCAAQA,KAAR;AAAeC,gBAAAA,IAAI,EAAEiB,QAAQ,CAACjB;AAA9B,gBAAL;AALG;AAAA;;AAAA;AAAA;AAAA;AAOHD,cAAAA,KAAK,mCAAQA,KAAR;AAAeS,gBAAAA,KAAK;AAApB,gBAAL;;AAPG;AAAA,qDAUkBV,SAVlB;;AAAA;AAUL,oEAAkC;AAAvBoB,kBAAAA,QAAuB;AAChCA,kBAAAA,QAAQ,CAACnB,KAAD,CAAR;AACD;AAZI;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADS;AAedoB,EAAAA,aAAa,EAAE,yBAAM;AACnBpB,IAAAA,KAAK,mCAAQA,KAAR;AAAeU,MAAAA,OAAO,EAAE,CAACV,KAAK,CAACU;AAA/B,MAAL;;AADmB,gDAGIX,SAHJ;AAAA;;AAAA;AAGnB,6DAAkC;AAAA,YAAvBoB,QAAuB;AAChCA,QAAAA,QAAQ,CAACnB,KAAD,CAAR;AACD;AALkB;AAAA;AAAA;AAAA;AAAA;AAMpB,GArBa;AAsBdqB,EAAAA,WAAW,EAAE,uBAAM;AACjBrB,IAAAA,KAAK,mCAAQA,KAAR;AAAeW,MAAAA,KAAK,EAAE,CAACX,KAAK,CAACW;AAA7B,MAAL;;AADiB,gDAGMZ,SAHN;AAAA;;AAAA;AAGjB,6DAAkC;AAAA,YAAvBoB,QAAuB;AAChCA,QAAAA,QAAQ,CAACnB,KAAD,CAAR;AACD;AALgB;AAAA;AAAA;AAAA;AAAA;AAMlB,GA5Ba;AA6BdsB,EAAAA,aAAa,EAAE,uBAACC,OAAD,EAAa;AAC1BvB,IAAAA,KAAK,mCACAA,KADA;AAEHa,MAAAA,OAAO,EAAE;AAAEF,QAAAA,KAAK,EAAE,CAACX,KAAK,CAACa,OAAN,CAAcF,KAAxB;AAA+BG,QAAAA,IAAI,EAAES;AAArC;AAFN,MAAL;;AAD0B,gDAMHxB,SANG;AAAA;;AAAA;AAM1B,6DAAkC;AAAA,YAAvBoB,QAAuB;AAChCA,QAAAA,QAAQ,CAACnB,KAAD,CAAR;AACD;AARyB;AAAA;AAAA;AAAA;AAAA;AAS3B,GAtCa;AAuCdwB,EAAAA,WAAW,EAAE,uBAAM;AACjBxB,IAAAA,KAAK,mCAAQA,KAAR;AAAeY,MAAAA,KAAK,EAAE,CAACZ,KAAK,CAACY;AAA7B,MAAL;;AADiB,gDAGMb,SAHN;AAAA;;AAAA;AAGjB,6DAAkC;AAAA,YAAvBoB,QAAuB;AAChCA,QAAAA,QAAQ,CAACnB,KAAD,CAAR;AACD;AALgB;AAAA;AAAA;AAAA;AAAA;AAMlB;AA7Ca,CAAhB;AAgDA,OAAO,IAAMyB,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAClC,MAAMC,QAAQ,GAAG9B,QAAQ,CAACI,KAAD,CAAR,CAAgB,CAAhB,CAAjB;AAEAH,EAAAA,SAAS,CAAC,YAAM;AACdE,IAAAA,SAAS,CAAC4B,IAAV,CAAeD,QAAf;AAEA,WAAO,YAAM;AACX3B,MAAAA,SAAS,GAAGA,SAAS,CAAC6B,MAAV,CAAiB,UAACC,EAAD;AAAA,eAAQA,EAAE,KAAKH,QAAf;AAAA,OAAjB,CAAZ;AACD,KAFD;AAGD,GANQ,EAMN,CAACA,QAAD,CANM,CAAT;AAQA,SAAO,CAAC1B,KAAD,EAAQe,OAAR,CAAP;AACD,CAZM","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nlet listeners = [];\n\nlet state = {\n  data: {\n    menu: [\n      {\n        name: \"홈\",\n        url: \"/\",\n      },\n      {\n        name: \"코스추천\",\n        url: \"/survey\",\n      },\n      {\n        name: \"관광지\",\n        url: \"/place\",\n      },\n      {\n        name: \"나의 코스관리\",\n        url: \"/mypage\",\n      },\n      \n      { name: \"관리자 페이지\",\n        url: \"/manage\",\n        auth:\"admin\"},\n    \n    ],\n    categories: [\n      {\n        id: \"12\",\n        title: \"관광지\",\n      },\n      {\n        id: \"14\",\n        title: \"문화시설\",\n      },\n      {\n        id: \"15\",\n        title: \"축제/공연/행사\",\n      },\n      {\n        id: \"25\",\n        title: \"여행코스\",\n      },\n      {\n        id: \"28\",\n        title: \"레포츠\",\n      },\n      {\n        id: \"32\",\n        title: \"쇼핑\",\n      },\n      {\n        id: \"39\",\n        title: \"음식\",\n      },\n    ],\n    \n  },\n  \n  error: null,\n  sidebar: false,\n  modal: false,\n  video: false,\n  request: {\n    modal: false,\n    text: \"\",\n  },\n};\n\nconst actions = {\n  fetch: async () => {\n    try {\n      const response = await axios.get(\n        \"/api/data\"\n      );\n      state = { ...state, data: response.data };\n    } catch (err) {\n      state = { ...state, error: err };\n    }\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleSidebar: () => {\n    state = { ...state, sidebar: !state.sidebar };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleModal: () => {\n    state = { ...state, modal: !state.modal };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleRequest: (payload) => {\n    state = {\n      ...state,\n      request: { modal: !state.request.modal, text: payload },\n    };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleVideo: () => {\n    state = { ...state, video: !state.video };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n};\n\nexport const useCustomState = () => {\n  const setState = useState(state)[1];\n\n  useEffect(() => {\n    listeners.push(setState);\n\n    return () => {\n      listeners = listeners.filter((li) => li !== setState);\n    };\n  }, [setState]);\n\n  return [state, actions];\n};"]},"metadata":{},"sourceType":"module"}