{"ast":null,"code":"import _slicedToArray from\"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import emailjs from\"emailjs-com\";import styles from\"./ContactForm.module.scss\";import{CardButton}from\"../../ui\";import{Spinner}from\"../../elements\";export default(function(_ref){var style=_ref.style;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sending=_useState2[0],setSending=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),phone=_useState12[0],setPhone=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),message=_useState14[0],setMessage=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),preferedCheck=_useState16[0],setPreferedCheck=_useState16[1];var templateParams={name:name,email:email,phone:phone,message:message,email_prefered:preferedCheck?\"Yes\":\"No\"};var validateEmail=function validateEmail(email){var re=/\\S+@\\S+\\.\\S+/;return re.test(email);};var onSubmit=function onSubmit(){if(name===\"\"){setStatus(\"Please enter your name\");setError(true);return;}if(!validateEmail(email)){setStatus(\"Incorrect email address\");setError(true);return;}if(phone===\"\"){setStatus(\"Please enter your phone\");setError(true);return;}setSending(true);emailjs.send(\"SERVICE ID\",\"TEMPLATE ID\",templateParams,\"USER ID\").then(function(response){setSending(false);setError(false);setStatus(\"Your message has been sent!\");},function(err){setSending(false);setError(true);setStatus(\"Sorry. There is an error: \"+err.text);});resetForm();};var resetForm=function resetForm(){setName(\"\");setEmail(\"\");setPhone(\"\");setMessage(\"\");setPreferedCheck(false);};var loading=sending&&/*#__PURE__*/React.createElement(\"div\",{className:styles.loading},/*#__PURE__*/React.createElement(Spinner,null));return/*#__PURE__*/React.createElement(\"form\",{style:style,className:styles.wrapper},loading,/*#__PURE__*/React.createElement(CardButton,{click:onSubmit,btn_after:\"\\uF107\",btn_text:\"Send message\",btn_type:\"solid-color-tb\",btn_hoverType:\"solid-gray-tb\",btn_align:\"stretch\",padding:true},/*#__PURE__*/React.createElement(\"div\",{className:styles.contact_form},/*#__PURE__*/React.createElement(\"span\",{className:[styles.status,error&&styles.error].join(\" \")},status),/*#__PURE__*/React.createElement(\"h4\",null,\"Send as a message:\"),/*#__PURE__*/React.createElement(\"input\",{value:name,onChange:function onChange(e){return setName(e.target.value);},type:\"text\",placeholder:\"Your name *\"}),/*#__PURE__*/React.createElement(\"input\",{value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\",placeholder:\"Email address *\"}),/*#__PURE__*/React.createElement(\"input\",{value:phone,onChange:function onChange(e){return setPhone(e.target.value);},type:\"text\",placeholder:\"Phone number *\"}),/*#__PURE__*/React.createElement(\"textarea\",{value:message,onChange:function onChange(e){return setMessage(e.target.value);},rows:\"10\",placeholder:\"Enter your message\"}),/*#__PURE__*/React.createElement(\"label\",{className:styles.checkbox_group},/*#__PURE__*/React.createElement(\"p\",null,\"Email prefered way to contact\"),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(){return setPreferedCheck(!preferedCheck);},type:\"checkbox\",checked:preferedCheck}),/*#__PURE__*/React.createElement(\"span\",{className:styles.checkmark})))));});","map":{"version":3,"sources":["/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/components/ui/ContactForm/ContactForm.js"],"names":["React","useState","emailjs","styles","CardButton","Spinner","style","sending","setSending","status","setStatus","error","setError","name","setName","email","setEmail","phone","setPhone","message","setMessage","preferedCheck","setPreferedCheck","templateParams","email_prefered","validateEmail","re","test","onSubmit","send","then","response","err","text","resetForm","loading","wrapper","contact_form","join","e","target","value","checkbox_group","checkmark"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport emailjs from \"emailjs-com\";\nimport styles from \"./ContactForm.module.scss\";\nimport { CardButton } from \"../../ui\";\nimport { Spinner } from \"../../elements\";\n\nexport default ({ style }) => {\n  const [sending, setSending] = useState(false);\n  const [status, setStatus] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [preferedCheck, setPreferedCheck] = useState(false);\n\n  const templateParams = {\n    name: name,\n    email: email,\n    phone: phone,\n    message: message,\n    email_prefered: preferedCheck ? \"Yes\" : \"No\",\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const onSubmit = () => {\n    if (name === \"\") {\n      setStatus(\"Please enter your name\");\n      setError(true);\n      return;\n    }\n\n    if (!validateEmail(email)) {\n      setStatus(\"Incorrect email address\");\n      setError(true);\n      return;\n    }\n\n    if (phone === \"\") {\n      setStatus(\"Please enter your phone\");\n      setError(true);\n      return;\n    }\n\n    setSending(true);\n    emailjs\n      .send(\n        \"SERVICE ID\",\n        \"TEMPLATE ID\",\n        templateParams,\n        \"USER ID\"\n      )\n      .then(\n        (response) => {\n          setSending(false);\n          setError(false);\n          setStatus(\"Your message has been sent!\");\n        },\n        (err) => {\n          setSending(false);\n          setError(true);\n          setStatus(\"Sorry. There is an error: \" + err.text);\n        }\n      );\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setName(\"\");\n    setEmail(\"\");\n    setPhone(\"\");\n    setMessage(\"\");\n    setPreferedCheck(false);\n  };\n\n  const loading = sending && (\n    <div className={styles.loading}>\n      <Spinner />\n    </div>\n  );\n\n  return (\n    <form style={style} className={styles.wrapper}>\n      {loading}\n      <CardButton\n        click={onSubmit}\n        btn_after=\"&#xf107;\"\n        btn_text=\"Send message\"\n        btn_type=\"solid-color-tb\"\n        btn_hoverType=\"solid-gray-tb\"\n        btn_align=\"stretch\"\n        padding\n      >\n        <div className={styles.contact_form}>\n          <span className={[styles.status, error && styles.error].join(\" \")}>\n            {status}\n          </span>\n          <h4>Send as a message:</h4>\n          <input\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            type=\"text\"\n            placeholder=\"Your name *\"\n          />\n          <input\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            type=\"email\"\n            placeholder=\"Email address *\"\n          />\n          <input\n            value={phone}\n            onChange={(e) => setPhone(e.target.value)}\n            type=\"text\"\n            placeholder=\"Phone number *\"\n          />\n          <textarea\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            rows=\"10\"\n            placeholder=\"Enter your message\"\n          />\n          <label className={styles.checkbox_group}>\n            <p>Email prefered way to contact</p>\n            <input\n              onChange={() => setPreferedCheck(!preferedCheck)}\n              type=\"checkbox\"\n              checked={preferedCheck}\n            />\n            <span className={styles.checkmark} />\n          </label>\n        </div>\n      </CardButton>\n    </form>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}