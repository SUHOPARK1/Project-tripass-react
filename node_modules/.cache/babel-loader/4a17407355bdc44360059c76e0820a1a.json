{"ast":null,"code":"import _slicedToArray from\"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import emailjs from\"emailjs-com\";import styles from\"./InputDiscount.module.scss\";import{Button}from\"../../elements\";import useWidth from\"../../../utilities/useCurrentWidth\";var SERVICES=[\"Construction\",\"Contracting\",\"Management\"];export default(function(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),hidden=_useState2[0],setHidden=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),active=_useState4[0],setActive=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),sending=_useState6[0],setSending=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var revealStyle={opacity:\"1\",pointerEvents:\"all\"};var templateParams={email:email,request:\"Discount for service: \"+active};var validateEmail=function validateEmail(email){var re=/\\S+@\\S+\\.\\S+/;return re.test(email);};var onSubmit=function onSubmit(){if(!validateEmail(email)){setStatus(\"Incorrect email address\");return;}setSending(true);emailjs.send(\"SERVICE ID\",\"TEMPLATE ID\",templateParams,\"USER ID\").then(function(response){setSending(false);setStatus(\"Your message has been sent!\");},function(err){setSending(false);setStatus(\"Sorry. There is an error: \"+err.text);});setEmail(\"\");};return/*#__PURE__*/React.createElement(\"form\",{className:styles.subscribe},/*#__PURE__*/React.createElement(\"span\",{className:styles.status},sending?\"Sending... \":status),/*#__PURE__*/React.createElement(\"div\",{className:styles.select,style:{fontWeight:!hidden&&\"600\"},onClick:function onClick(){return setHidden(!hidden);}},/*#__PURE__*/React.createElement(\"ul\",{className:styles.list,style:!hidden?revealStyle:null},SERVICES.map(function(item,index){return/*#__PURE__*/React.createElement(\"li\",{onClick:function onClick(){return setActive(item);},key:index},item);})),active?active:\"Choose your service\"),/*#__PURE__*/React.createElement(\"div\",{className:styles.input},/*#__PURE__*/React.createElement(\"input\",{value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Enter your email\"})),/*#__PURE__*/React.createElement(Button,{click:onSubmit,hoverType:\"solid-white-tb\",before:\"\\uF30B\"},useWidth()>992&&\"Get discount\"));});","map":{"version":3,"sources":["/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/components/ui/InputDiscount/InputDiscount.js"],"names":["React","useState","emailjs","styles","Button","useWidth","SERVICES","hidden","setHidden","active","setActive","sending","setSending","status","setStatus","email","setEmail","revealStyle","opacity","pointerEvents","templateParams","request","validateEmail","re","test","onSubmit","send","then","response","err","text","subscribe","select","fontWeight","list","map","item","index","input","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport emailjs from \"emailjs-com\";\nimport styles from \"./InputDiscount.module.scss\";\nimport { Button } from \"../../elements\";\nimport useWidth from \"../../../utilities/useCurrentWidth\";\n\nconst SERVICES = [\"Construction\", \"Contracting\", \"Management\"];\n\nexport default () => {\n  const [hidden, setHidden] = useState(true);\n  const [active, setActive] = useState(null);\n\n  const [sending, setSending] = useState(false);\n  const [status, setStatus] = useState(\"\");\n\n  const [email, setEmail] = useState(\"\");\n\n  const revealStyle = {\n    opacity: \"1\",\n    pointerEvents: \"all\",\n  };\n\n  const templateParams = {\n    email: email,\n    request: \"Discount for service: \" + active,\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const onSubmit = () => {\n    if (!validateEmail(email)) {\n      setStatus(\"Incorrect email address\");\n      return;\n    }\n    setSending(true);\n    emailjs\n      .send(\"SERVICE ID\", \"TEMPLATE ID\", templateParams, \"USER ID\")\n      .then(\n        (response) => {\n          setSending(false);\n          setStatus(\"Your message has been sent!\");\n        },\n        (err) => {\n          setSending(false);\n          setStatus(\"Sorry. There is an error: \" + err.text);\n        }\n      );\n    setEmail(\"\");\n  };\n\n  return (\n    <form className={styles.subscribe}>\n      <span className={styles.status}>{sending ? \"Sending... \" : status}</span>\n      <div\n        className={styles.select}\n        style={{ fontWeight: !hidden && \"600\" }}\n        onClick={() => setHidden(!hidden)}\n      >\n        <ul className={styles.list} style={!hidden ? revealStyle : null}>\n          {SERVICES.map((item, index) => (\n            <li onClick={() => setActive(item)} key={index}>\n              {item}\n            </li>\n          ))}\n        </ul>\n        {active ? active : \"Choose your service\"}\n      </div>\n      <div className={styles.input}>\n        <input\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Enter your email\"\n        />\n      </div>\n      <Button click={onSubmit} hoverType=\"solid-white-tb\" before=\"&#xf30b;\">\n        {useWidth() > 992 && \"Get discount\"}\n      </Button>\n    </form>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}