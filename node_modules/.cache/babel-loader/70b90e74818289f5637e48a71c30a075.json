{"ast":null,"code":"import React from\"react\";import{Button}from'@material-ui/core';import styles from\"./Header.module.scss\";import Layout from\"../Layout/Layout\";import{Link,Logo}from\"components/elements\";import THEME from\"state/theme\";import{useCustomState}from\"webapp/cmm/state/State\";import LoginIcon from\"@material-ui/icons/DirectionsBus\";import LogoutIcon from\"@material-ui/icons/PowerSettingsNew\";import{useDispatch,useSelector}from\"react-redux\";import{logout}from\"webapp/_actions\";export default(function(_ref){var _ref$data=_ref.data,data=_ref$data===void 0?[]:_ref$data;var actions=useCustomState()[1];var authorization=useSelector(function(state){return state.accountReducer.authorization;});var currentUser=useSelector(function(state){return state.accountReducer.currentUser;});var dispatch=useDispatch();var handleLogout=function handleLogout(e){e.preventDefault();localStorage.removeItem('accessToken');dispatch(logout());};var menu=data.map(function(item,index){if(!item.children){if(item.auth&&item.auth!==authorization)return/*#__PURE__*/React.createElement(React.Fragment,null);return/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(Link,{url:item.url,hoverStyle:{color:THEME.color}},item.name));}else{//36~52 서브메뉴 드롭다운 (기능추가 할시에)\nreturn/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(Link,{url:item.url,hoverStyle:{color:THEME.color}},item.name)),/*#__PURE__*/React.createElement(\"ul\",null,item.children.map(function(subitem,subindex){return/*#__PURE__*/React.createElement(\"li\",{key:subindex},/*#__PURE__*/React.createElement(\"a\",{href:subitem.url},subitem.name));})));}});var header=/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(\"div\",{className:styles.header},/*#__PURE__*/React.createElement(Link,{url:\"/\"},/*#__PURE__*/React.createElement(Logo,{dark:true})),/*#__PURE__*/React.createElement(\"ul\",{className:styles.menu},menu),/*#__PURE__*/React.createElement(\"div\",{className:styles.btn_desktop},currentUser==null?/*#__PURE__*/React.createElement(Link,{url:\"/login\"},/*#__PURE__*/React.createElement(Button,{style:{borderRadius:20,backgroundColor:\"#f7f3e9\",padding:\"8px 16px\",fontSize:\"14px\"},variant:\"contained\",size:\"large\",startIcon:/*#__PURE__*/React.createElement(LoginIcon,null)},\"\\uAC04\\uD3B8 \\uB85C\\uADF8\\uC778\")):/*#__PURE__*/React.createElement(Button,{style:{borderRadius:20,backgroundColor:\"#FFD8D8\",padding:\"8px 16px\",fontSize:\"14px\"},onClick:handleLogout,variant:\"contained\",size:\"large\",startIcon:/*#__PURE__*/React.createElement(LogoutIcon,null)},\"\\uB85C\\uADF8\\uC544\\uC6C3\")),/*#__PURE__*/React.createElement(\"div\",{className:styles.btn_mobile,onClick:function onClick(){return actions.toogleSidebar();}},/*#__PURE__*/React.createElement(Button,{after:\"\\uF0C9\",type:\"solid-white-tb\",hoverType:\"solid-gray-tb\"}))));return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:styles.wrapper},header));});","map":{"version":3,"sources":["/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/webapp/cmm/layouts/Header/Header.jsx"],"names":["React","Button","styles","Layout","Link","Logo","THEME","useCustomState","LoginIcon","LogoutIcon","useDispatch","useSelector","logout","data","actions","authorization","state","accountReducer","currentUser","dispatch","handleLogout","e","preventDefault","localStorage","removeItem","menu","map","item","index","children","auth","url","color","name","subitem","subindex","header","btn_desktop","borderRadius","backgroundColor","padding","fontSize","btn_mobile","toogleSidebar","wrapper"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button } from '@material-ui/core'\nimport styles from \"./Header.module.scss\";\nimport Layout from \"../Layout/Layout\";\nimport { Link, Logo } from \"components/elements\";\nimport THEME from \"state/theme\";\nimport { useCustomState } from \"webapp/cmm/state/State\";\nimport LoginIcon from \"@material-ui/icons/DirectionsBus\"\nimport LogoutIcon from \"@material-ui/icons/PowerSettingsNew\"\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout } from \"webapp/_actions\";\n\nexport default ({ data = [] }) => {\n  const actions = useCustomState()[1];\n  const authorization = useSelector(state => state.accountReducer.authorization)\n  const currentUser = useSelector(state => state.accountReducer.currentUser)\n  const dispatch = useDispatch()\n  const handleLogout = (e) =>{\n    e.preventDefault()\n    localStorage.removeItem('accessToken')\n    dispatch(logout())\n  }\n\n\n  const menu = data.map((item, index) => {\n    if (!item.children) {\n      if(item.auth&&item.auth!==authorization)\n        return <></>\n      return (\n        <li key={index}>\n          <Link url={item.url} hoverStyle={{ color: THEME.color }}>\n            {item.name}\n          </Link>\n        </li>    \n      );\n    } else {                      //36~52 서브메뉴 드롭다운 (기능추가 할시에)\n      return (\n        <li key={index}>  \n          <span>\n            <Link url={item.url} hoverStyle={{ color: THEME.color }}>\n              {item.name}\n            </Link>\n          </span>\n          <ul>\n            {item.children.map((subitem, subindex) => (\n              <li key={subindex}>\n                <a href={subitem.url}>{subitem.name}</a>\n              </li>\n            ))}\n          </ul>\n        </li>\n      );\n    }\n  });\n\n  const header = (\n    <Layout>\n      <div className={styles.header}>\n        <Link url=\"/\">\n          <Logo dark />\n        </Link>\n\n        <ul className={styles.menu}>{menu}</ul>\n\n        <div className={styles.btn_desktop}>\n          {currentUser==null ? \n          <Link url=\"/login\">\n            <Button style={{\n              borderRadius: 20,\n              backgroundColor: \"#f7f3e9\",\n              padding: \"8px 16px\",\n              fontSize: \"14px\"\n            }} variant=\"contained\" size=\"large\" startIcon={<LoginIcon />}>간편 로그인</Button>\n          </Link> :\n          <Button style={{\n            borderRadius: 20,\n            backgroundColor: \"#FFD8D8\",\n            padding: \"8px 16px\",\n            fontSize: \"14px\"\n          }} onClick = {handleLogout} variant=\"contained\" size=\"large\" startIcon={<LogoutIcon />}>로그아웃</Button>}\n        </div>\n\n        <div\n          className={styles.btn_mobile}\n          onClick={() => actions.toogleSidebar()}\n        >\n          <Button\n            after=\"&#xf0c9;\"\n            type=\"solid-white-tb\"\n            hoverType=\"solid-gray-tb\"\n          />\n        </div>\n      </div>\n    </Layout>\n  );\n\n  return (\n    <>\n      <div className={styles.wrapper}>{header}</div>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}