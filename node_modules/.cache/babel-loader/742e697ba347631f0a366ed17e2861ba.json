{"ast":null,"code":"import _slicedToArray from\"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,SvgIcon}from'@material-ui/core';import React,{useEffect,useState}from'react';import{useSelector}from'react-redux';import{useHistory}from'react-router';import styles from'../styles/RecomBox.module.scss';import axios from'axios';var ResultCourse=function ResultCourse(_ref){var recom=_ref.recom;return/*#__PURE__*/React.createElement(\"div\",{className:styles.boxCourse},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",{style:{display:\"inline-block\"}},/*#__PURE__*/React.createElement(\"img\",{src:\"https://blog.kakaocdn.net/dn/nH7W6/btq2hJWcGQs/E2JTaem8tohYPLrJhoUTNk/img.png\"}),/*#__PURE__*/React.createElement(\"hr\",{style:{marginTop:\"10px\",marginBottom:\"24px\",width:\"100px\",backgroundColor:\"#B0B0B0\",height:\"4px\"}})),recom.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{className:styles.li},/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"div\",{style:{width:\"250px\"}},/*#__PURE__*/React.createElement(SvgIcon,{style:{fontSize:\"50px\",color:\"#1E90FF\"},viewBox:'0 0 30 50'},/*#__PURE__*/React.createElement(\"path\",{d:\"M17.23,0A17.22,17.22,0,0,0,0,17.23C0,24.46,10,38.49,14.74,44.8a3.12,3.12,0,0,0,5,0c4.77-6.31,14.74-20.34,14.74-27.57A17.23,17.23,0,0,0,17.23,0Zm2.16,26.43a9.45,9.45,0,1,1,7-7A9.46,9.46,0,0,1,19.39,26.43Z\"})))),/*#__PURE__*/React.createElement(\"hr\",{style:{marginTop:\"10px\",marginBottom:\"10px\",width:\"250px\",backgroundColor:\"#B0B0B0\",height:\"4px\"}}),/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:\"13px\",width:\"300px\"}},item.place.title)));})),/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:'120px'}},/*#__PURE__*/React.createElement(\"br\",null)));};export default(function(_ref2){var recom=_ref2.recom,index=_ref2.index;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),score=_useState2[0],setScore=_useState2[1];var currentUser=useSelector(function(state){return state.accountReducer.currentUser;});var history=useHistory();var handleDetail=function handleDetail(e){e.preventDefault();if(currentUser==null){alert('로그인이 필요한 서비스입니다.');}else{history.push(\"/course/detail\");}};var handleSave=function handleSave(e){e.preventDefault();if(currentUser==null){alert('로그인이 필요한 서비스입니다.');}else{axios.post(process.env.REACT_APP_API_URL+'/course/save',{crsName:\"\\uB098\\uB9CC\\uC758 \\uCF54\\uC2A4\".concat(Math.ceil(Math.random()*100)),places:Array.from(recom,function(v){return v.place.contentid;}),num:currentUser.num}).then(alert('성공적으로 저장 했습니다.')).catch(function(err){return alert(err);});}};console.log(recom);useEffect(function(){var _loop=function _loop(i){setScore(function(score){return score+recom[i].score;});};for(var i=0;i<recom.length;i++){_loop(i);}},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:styles.recomBox},/*#__PURE__*/React.createElement(\"div\",{className:styles.boxInfo},/*#__PURE__*/React.createElement(\"div\",{className:styles.title},/*#__PURE__*/React.createElement(\"span\",null,\"\\uCD94\\uCC9C\\uCF54\\uC2A4\",index+1)),/*#__PURE__*/React.createElement(\"div\",{className:styles.score},/*#__PURE__*/React.createElement(\"span\",null,\"\\uCD94\\uCC9C\\uB3C4:\",Math.ceil(score/80*100),\"%\")),/*#__PURE__*/React.createElement(\"div\",{className:styles.btn_box},/*#__PURE__*/React.createElement(Button,{style:{fontSize:\"13px\"},onClick:handleDetail},\"\\uC0C1\\uC138\\uBCF4\\uAE30\"),/*#__PURE__*/React.createElement(Button,{style:{fontSize:\"13px\"},onClick:handleSave},\"\\uC800\\uC7A5\\uD558\\uAE30\"))),/*#__PURE__*/React.createElement(ResultCourse,{recom:recom})));});","map":{"version":3,"sources":["/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/webapp/rcm/pages/RecomBox.jsx"],"names":["Button","SvgIcon","React","useEffect","useState","useSelector","useHistory","styles","axios","ResultCourse","recom","boxCourse","display","marginTop","marginBottom","width","backgroundColor","height","map","item","li","fontSize","color","place","title","index","score","setScore","currentUser","state","accountReducer","history","handleDetail","e","preventDefault","alert","push","handleSave","post","process","env","REACT_APP_API_URL","crsName","Math","ceil","random","places","Array","from","v","contentid","num","then","catch","err","console","log","i","length","recomBox","boxInfo","btn_box"],"mappings":"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","sourcesContent":["import { Button, SvgIcon } from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {useHistory} from 'react-router'\nimport styles from '../styles/RecomBox.module.scss'\nimport axios from 'axios'\n\nconst ResultCourse = ({ recom }) => {\n    return <div className={styles.boxCourse}>\n        <ul>\n            <li style={{display:\"inline-block\"}}><img src=\"https://blog.kakaocdn.net/dn/nH7W6/btq2hJWcGQs/E2JTaem8tohYPLrJhoUTNk/img.png\"/>\n                <hr style={{marginTop: \"10px\", marginBottom: \"24px\",\n                            width: \"100px\", backgroundColor: \"#B0B0B0\", height: \"4px\" }} />\n            </li>\n            {recom.map((item) => {\n                return <li className={styles.li}>\n                        <center>\n                        <div style={{ width: \"250px\" }}>\n                            <SvgIcon style={{ fontSize: \"50px\", color: \"#1E90FF\" }} viewBox={'0 0 30 50'}>\n                                <path d=\"M17.23,0A17.22,17.22,0,0,0,0,17.23C0,24.46,10,38.49,14.74,44.8a3.12,3.12,0,0,0,5,0c4.77-6.31,14.74-20.34,14.74-27.57A17.23,17.23,0,0,0,17.23,0Zm2.16,26.43a9.45,9.45,0,1,1,7-7A9.46,9.46,0,0,1,19.39,26.43Z\">\n                                </path>\n                            </SvgIcon>\n                        </div>\n                              \n                         </center>\n                            <hr style={{\n                                marginTop: \"10px\", marginBottom: \"10px\",\n                                width: \"250px\", backgroundColor: \"#B0B0B0\", height: \"4px\" }} />\n                            <center>\n                                <p style={{ fontSize:\"13px\", width: \"300px\" }} >{item.place.title}</p>\n                            </center>\n                        </li> })}\n        </ul>\n        <div style={{fontSize:'120px'}}><br/></div>\n           </div>\n}\n\nexport default ({recom, index})=>{\n    const [score,setScore] = useState(0)\n    const currentUser = useSelector(state=>state.accountReducer.currentUser)\n    const history = useHistory()\n\n    const handleDetail = (e)=>{\n        e.preventDefault()\n        if(currentUser==null){\n            alert('로그인이 필요한 서비스입니다.')\n        }else{\n            history.push(\"/course/detail\")\n        }\n    }\n    const handleSave = (e)=>{\n        e.preventDefault()\n        if(currentUser==null){\n            alert('로그인이 필요한 서비스입니다.')\n        }else{\n            axios.post(process.env.REACT_APP_API_URL+'/course/save',{\n                crsName:`나만의 코스${Math.ceil(Math.random()*100)}`,\n                places:Array.from(recom,v=>v.place.contentid),\n                num:currentUser.num\n            }).then(alert('성공적으로 저장 했습니다.'))\n            .catch(err=>alert(err))\n        }\n    }\n    console.log(recom)\n    useEffect(()=>{\n        for(let i=0;i<recom.length;i++){\n            setScore(score=>score+recom[i].score)\n        }\n    },[])\n\n    return <>\n            <div className={styles.recomBox}>\n                <div className={styles.boxInfo}>\n                    <div className={styles.title}><span>추천코스{index + 1}</span></div>\n                    <div className={styles.score}><span>추천도:{Math.ceil(score/80*100)}%</span></div>\n                    <div className={styles.btn_box}><Button style={{fontSize:\"13px\"} }onClick={handleDetail}>상세보기</Button>\n                                                    <Button style={{fontSize:\"13px\"} }onClick={handleSave}>저장하기</Button></div>\n                </div>\n                <ResultCourse recom={recom} />\n            </div>\n        </>\n}"]},"metadata":{},"sourceType":"module"}