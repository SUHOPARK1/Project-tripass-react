{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/webapp/pce/pages/Contacts2/Contacts2.jsx\";\n\nimport React from \"react\";\nimport styles from \"./Contacts2.module.scss\";\nimport Layout from \"webapp/cmm/\";\nimport THEME from \"state/theme\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    margin: {\n      margin: theme.spacing(1)\n    },\n    extendedIcon: {\n      marginRight: theme.spacing(1)\n    }\n  };\n});\nexport default (function () {\n  var classes = useStyles();\n  var URL = 'http://api.visitkorea.or.kr/openapi/service/rest/KorService/areaBasedList?ServiceKey=ZaKVN0ME8OTmi3RpLmp%2Bzzl9aOxW4T2IP2v%2BRC2UoaDNDT30a5MuNKoeIgbY%2BIzjVE%2FKLMs%2BImOO3WLc78WCPA%3D%3D&areaCode=32&sigunguCode=5&numOfRows=177&pageNo=1&MobileOS=ETC&MobileApp=TestApp&_type=json';\n  var originURL = process.env.REACT_APP_API_URL;\n\n  var saveAll = function saveAll(e) {\n    e.preventDefault();\n    fetch(URL).then(function (resp) {\n      return resp.json();\n    }).then(function (resp) {\n      var places = resp.response.body.items.item;\n      axios.post(\"\".concat(originURL, \"/place/saveAll\"), places).then(alert(\"\\uC800\\uC7A5\\uC644\\uB8CC\")).catch();\n      places.map(function (elem) {\n        var contentid = elem.contentid;\n        var URL2 = \"http://api.visitkorea.or.kr/openapi/service/rest/KorService/detailCommon?ServiceKey=7hb2dIRIDTkLxtu%2B4LFWyzBfvlvHKUirbLFOQRPT%2Fn%2FP514YgScrPtXK%2B1ErcLcnroGa0Uj8%2B%2FM%2BY5x1CWROaw%3D%3D&contentId=\".concat(contentid, \"&defaultYN=N&addrinfoYN=N&overviewYN=Y&MobileOS=ETC&MobileApp=AppTest&_type=json\");\n        fetch(URL2).then(function (res) {\n          return res.json();\n        }).catch(function (err) {\n          alert(err);\n        }).then(function (res) {\n          var detail = res.response.body.items.item;\n          console.log(detail.contentid);\n          axios.post(\"\".concat(originURL, \"/detail/save\"), {\n            place: elem,\n            overview: detail.overview.slice(0, 100)\n          }).catch(function (err) {\n            alert(err);\n          }).then().catch();\n        }).catch(function (err) {\n          throw err;\n        });\n      });\n    }).catch(function (err) {\n      alert(\"\\uC800\\uC7A5\\uC2E4\\uD328\");\n      throw err;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.wrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.margin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"subtitle\",\n    style: {\n      color: THEME.color\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Layout, {\n    col: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    size: \"large\",\n    color: \"primary\",\n    href: \"/place/addsingle\",\n    className: classes.margin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"\\uAD00\\uAD11\\uC9C0 \\uAE30\\uBCF8\\uC815\\uBCF4 \\uAC1C\\uBCC4 \\uC785\\uB825\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    size: \"large\",\n    color: \"primary\",\n    type: \"submit\",\n    onClick: saveAll,\n    className: classes.margin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"Tour Api \\uC800\\uC7A5\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    size: \"large\",\n    color: \"secondary\",\n    href: \"/place/addoverview\",\n    className: classes.margin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"\\uAD00\\uAD11\\uC9C0 \\uAC1C\\uC694 \\uC785\\uB825\"))));\n});","map":{"version":3,"sources":["/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/webapp/pce/pages/Contacts2/Contacts2.jsx"],"names":["React","styles","Layout","THEME","makeStyles","Button","axios","useStyles","theme","margin","spacing","extendedIcon","marginRight","classes","URL","originURL","process","env","REACT_APP_API_URL","saveAll","e","preventDefault","fetch","then","resp","json","places","response","body","items","item","post","alert","catch","map","elem","contentid","URL2","res","err","detail","console","log","place","overview","slice","wrapper","color"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from \"./Contacts2.module.scss\";\nimport Layout from \"webapp/cmm/\";\nimport THEME from \"state/theme\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios'\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  \n}))\n\nexport default () => {\n  const classes = useStyles();\n  const URL = 'http://api.visitkorea.or.kr/openapi/service/rest/KorService/areaBasedList?ServiceKey=ZaKVN0ME8OTmi3RpLmp%2Bzzl9aOxW4T2IP2v%2BRC2UoaDNDT30a5MuNKoeIgbY%2BIzjVE%2FKLMs%2BImOO3WLc78WCPA%3D%3D&areaCode=32&sigunguCode=5&numOfRows=177&pageNo=1&MobileOS=ETC&MobileApp=TestApp&_type=json'\n  const originURL = process.env.REACT_APP_API_URL\n\n  const saveAll = e => {\n    e.preventDefault()\n    fetch(URL, )\n    .then((resp) => {\n      \n      return resp.json()\n    })\n    .then(resp => {\n      const places = resp.response.body.items.item\n      axios.post(`${originURL}/place/saveAll`, places)\n        .then(\n          alert(`저장완료`)\n        ) \n        .catch()\n      places.map((elem) => {\n        const contentid = elem.contentid\n        const URL2 = `http://api.visitkorea.or.kr/openapi/service/rest/KorService/detailCommon?ServiceKey=7hb2dIRIDTkLxtu%2B4LFWyzBfvlvHKUirbLFOQRPT%2Fn%2FP514YgScrPtXK%2B1ErcLcnroGa0Uj8%2B%2FM%2BY5x1CWROaw%3D%3D&contentId=${contentid}&defaultYN=N&addrinfoYN=N&overviewYN=Y&MobileOS=ETC&MobileApp=AppTest&_type=json`\n          fetch(URL2, )\n          .then((res) => {\n            return res.json()\n          }).catch((err) => {\n            alert(err)\n          })\n          .then(res => {\n            const detail = res.response.body.items.item\n            console.log(detail.contentid)\n            axios.post(`${originURL}/detail/save`,{\n              place:elem,\n              overview:detail.overview.slice(0,100),\n            }).catch((err) => {\n              alert(err)\n            })\n            .then()\n            .catch()\n          })\n          .catch((err)=>{\n            throw err;\n          })\n      })\n    })\n    .catch((err) => {\n      alert(`저장실패`)\n      throw err;\n    })\n  }\n  \n  return (\n    <>\n      <div className={styles.wrapper}>\n      <div className={classes.margin}>\n        <span className=\"subtitle\" style={{ color: THEME.color }}></span>\n        \n      </div>\n      <Layout col=\"2\">\n        \n        <Button\n          variant=\"outlined\"\n          size=\"large\"\n          color=\"primary\"\n          href=\"/place/addsingle\"\n          className={classes.margin}\n        >관광지 기본정보 개별 입력</Button>\n        <Button\n          variant=\"outlined\"\n          size=\"large\"\n          color=\"primary\"\n          type=\"submit\" onClick={saveAll}\n          className={classes.margin}\n        >Tour Api 저장</Button>\n        <Button\n          variant=\"outlined\"\n          size=\"large\"\n          color=\"secondary\"\n          href=\"/place/addoverview\"\n          className={classes.margin}\n        >관광지 개요 입력</Button>\n      </Layout>    \n      </div>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}