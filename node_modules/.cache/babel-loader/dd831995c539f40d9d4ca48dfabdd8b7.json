{"ast":null,"code":"import React,{Fragment}from\"react\";import styles from\"./Contacts2.module.scss\";import Layout from\"components/layouts/Layout/Layout\";import THEME from\"state/theme\";import{makeStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import axios from'axios';var useStyles=makeStyles(function(theme){return{margin:{margin:theme.spacing(1)},extendedIcon:{marginRight:theme.spacing(1)}};});export default(function(){var classes=useStyles();var URL='http://api.visitkorea.or.kr/openapi/service/rest/KorService/areaBasedList?ServiceKey=ZaKVN0ME8OTmi3RpLmp%2Bzzl9aOxW4T2IP2v%2BRC2UoaDNDT30a5MuNKoeIgbY%2BIzjVE%2FKLMs%2BImOO3WLc78WCPA%3D%3D&areaCode=32&sigunguCode=5&numOfRows=177&pageNo=1&MobileOS=ETC&MobileApp=TestApp&_type=json';var originURL=process.env.REACT_APP_API_URL;var saveAll=function saveAll(e){e.preventDefault();fetch(URL).then(function(resp){return resp.json();}).then(function(resp){var places=resp.response.body.items.item;axios.post(\"\".concat(originURL,\"/place/saveAll\"),places).then(alert(\"\\uC800\\uC7A5\\uC644\\uB8CC\")).catch();places.map(function(elem){var contentid=elem.contentid;var URL2=\"http://api.visitkorea.or.kr/openapi/service/rest/KorService/detailCommon?ServiceKey=7hb2dIRIDTkLxtu%2B4LFWyzBfvlvHKUirbLFOQRPT%2Fn%2FP514YgScrPtXK%2B1ErcLcnroGa0Uj8%2B%2FM%2BY5x1CWROaw%3D%3D&contentId=\".concat(contentid,\"&defaultYN=N&addrinfoYN=N&overviewYN=Y&MobileOS=ETC&MobileApp=AppTest&_type=json\");fetch(URL2).then(function(res){return res.json();}).catch(function(err){alert(err);}).then(function(res){var detail=res.response.body.items.item;console.log(detail.contentid);axios.post(\"\".concat(originURL,\"/detail/save\"),{place:elem,overview:detail.overview.slice(0,100)}).catch(function(err){alert(err);}).then().catch();}).catch(function(err){throw err;});});}).catch(function(err){alert(\"\\uC800\\uC7A5\\uC2E4\\uD328\");throw err;});};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:styles.wrapper},/*#__PURE__*/React.createElement(\"div\",{className:classes.margin},/*#__PURE__*/React.createElement(\"span\",{className:\"subtitle\",style:{color:THEME.color}})),/*#__PURE__*/React.createElement(Layout,{col:\"2\"},/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",size:\"large\",color:\"primary\",href:\"/place/addsingle\",className:classes.margin},\"\\uAD00\\uAD11\\uC9C0 \\uAE30\\uBCF8\\uC815\\uBCF4 \\uAC1C\\uBCC4 \\uC785\\uB825\"),/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",size:\"large\",color:\"primary\",type:\"submit\",onClick:saveAll,className:classes.margin},\"Tour Api \\uC800\\uC7A5\"),/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",size:\"large\",color:\"secondary\",href:\"/place/addoverview\",className:classes.margin},\"\\uAD00\\uAD11\\uC9C0 \\uAC1C\\uC694 \\uC785\\uB825\"))));});","map":{"version":3,"sources":["/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/webapp/pce/pages/Contacts2/Contacts2.jsx"],"names":["React","Fragment","styles","Layout","THEME","makeStyles","Button","axios","useStyles","theme","margin","spacing","extendedIcon","marginRight","classes","URL","originURL","process","env","REACT_APP_API_URL","saveAll","e","preventDefault","fetch","then","resp","json","places","response","body","items","item","post","alert","catch","map","elem","contentid","URL2","res","err","detail","console","log","place","overview","slice","wrapper","color"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport styles from \"./Contacts2.module.scss\";\nimport Layout from \"components/layouts/Layout/Layout\";\nimport THEME from \"state/theme\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios'\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n  \n}))\n\nexport default () => {\n  const classes = useStyles();\n  const URL = 'http://api.visitkorea.or.kr/openapi/service/rest/KorService/areaBasedList?ServiceKey=ZaKVN0ME8OTmi3RpLmp%2Bzzl9aOxW4T2IP2v%2BRC2UoaDNDT30a5MuNKoeIgbY%2BIzjVE%2FKLMs%2BImOO3WLc78WCPA%3D%3D&areaCode=32&sigunguCode=5&numOfRows=177&pageNo=1&MobileOS=ETC&MobileApp=TestApp&_type=json'\n  const originURL = process.env.REACT_APP_API_URL\n\n  const saveAll = e => {\n    e.preventDefault()\n    fetch(URL, )\n    .then((resp) => {\n      \n      return resp.json()\n    })\n    .then(resp => {\n      const places = resp.response.body.items.item\n      axios.post(`${originURL}/place/saveAll`, places)\n        .then(\n          alert(`저장완료`)\n        ) \n        .catch()\n      places.map((elem) => {\n        const contentid = elem.contentid\n        const URL2 = `http://api.visitkorea.or.kr/openapi/service/rest/KorService/detailCommon?ServiceKey=7hb2dIRIDTkLxtu%2B4LFWyzBfvlvHKUirbLFOQRPT%2Fn%2FP514YgScrPtXK%2B1ErcLcnroGa0Uj8%2B%2FM%2BY5x1CWROaw%3D%3D&contentId=${contentid}&defaultYN=N&addrinfoYN=N&overviewYN=Y&MobileOS=ETC&MobileApp=AppTest&_type=json`\n          fetch(URL2, )\n          .then((res) => {\n            return res.json()\n          }).catch((err) => {\n            alert(err)\n          })\n          .then(res => {\n            const detail = res.response.body.items.item\n            console.log(detail.contentid)\n            axios.post(`${originURL}/detail/save`,{\n              place:elem,\n              overview:detail.overview.slice(0,100),\n            }).catch((err) => {\n              alert(err)\n            })\n            .then()\n            .catch()\n          })\n          .catch((err)=>{\n            throw err;\n          })\n      })\n    })\n    .catch((err) => {\n      alert(`저장실패`)\n      throw err;\n    })\n  }\n  \n  return (\n    <Fragment>\n      <div className={styles.wrapper}>\n      <div className={classes.margin}>\n        <span className=\"subtitle\" style={{ color: THEME.color }}></span>\n        \n      </div>\n      <Layout col=\"2\">\n        \n        <Button\n          variant=\"outlined\"\n          size=\"large\"\n          color=\"primary\"\n          href=\"/place/addsingle\"\n          className={classes.margin}\n        >관광지 기본정보 개별 입력</Button>\n        <Button\n          variant=\"outlined\"\n          size=\"large\"\n          color=\"primary\"\n          type=\"submit\" onClick={saveAll}\n          className={classes.margin}\n        >Tour Api 저장</Button>\n        <Button\n          variant=\"outlined\"\n          size=\"large\"\n          color=\"secondary\"\n          href=\"/place/addoverview\"\n          className={classes.margin}\n        >관광지 개요 입력</Button>\n      </Layout>    \n      </div>\n    </Fragment>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}