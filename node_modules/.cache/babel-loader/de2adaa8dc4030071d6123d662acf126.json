{"ast":null,"code":"import _regeneratorRuntime from\"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _createForOfIteratorHelper from\"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _objectSpread from\"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/suho/TeamProject/Spring/projectFinal/tripass/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useState,useEffect}from\"react\";import axios from\"axios\";var listeners=[];var state={data:{menu:[{name:\"홈\",url:\"/\"},{name:\"코스추천\",url:\"/survey\"},{name:\"관광지\",url:\"/place\"},{name:\"나의 코스관리\",url:\"/mypage\"},{name:\"관리자 페이지\",url:\"/manage\",auth:\"admin\"}],categories:[{id:\"12\",title:\"관광지\"},{id:\"14\",title:\"문화시설\"},{id:\"15\",title:\"축제/공연/행사\"},{id:\"25\",title:\"여행코스\"},{id:\"28\",title:\"레포츠\"},{id:\"32\",title:\"쇼핑\"},{id:\"39\",title:\"음식\"}]},error:null,sidebar:false,modal:false,video:false,request:{modal:false,text:\"\"}};var actions={fetch:function(){var _fetch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_iterator,_step,listener;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/data\");case 3:response=_context.sent;state=_objectSpread(_objectSpread({},state),{},{data:response.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);state=_objectSpread(_objectSpread({},state),{},{error:_context.t0});case 10:_iterator=_createForOfIteratorHelper(listeners);try{for(_iterator.s();!(_step=_iterator.n()).done;){listener=_step.value;listener(state);}}catch(err){_iterator.e(err);}finally{_iterator.f();}case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));function fetch(){return _fetch.apply(this,arguments);}return fetch;}(),toogleSidebar:function toogleSidebar(){state=_objectSpread(_objectSpread({},state),{},{sidebar:!state.sidebar});var _iterator2=_createForOfIteratorHelper(listeners),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var listener=_step2.value;listener(state);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}},toogleModal:function toogleModal(){state=_objectSpread(_objectSpread({},state),{},{modal:!state.modal});var _iterator3=_createForOfIteratorHelper(listeners),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var listener=_step3.value;listener(state);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}},toogleRequest:function toogleRequest(payload){state=_objectSpread(_objectSpread({},state),{},{request:{modal:!state.request.modal,text:payload}});var _iterator4=_createForOfIteratorHelper(listeners),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var listener=_step4.value;listener(state);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}},toogleVideo:function toogleVideo(){state=_objectSpread(_objectSpread({},state),{},{video:!state.video});var _iterator5=_createForOfIteratorHelper(listeners),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var listener=_step5.value;listener(state);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}};export var useCustomState=function useCustomState(){var setState=useState(state)[1];useEffect(function(){listeners.push(setState);return function(){listeners=listeners.filter(function(li){return li!==setState;});};},[setState]);return[state,actions];};","map":{"version":3,"sources":["/Users/suho/TeamProject/Spring/projectFinal/tripass/react/src/webapp/cmm/state/State.jsx"],"names":["useState","useEffect","axios","listeners","state","data","menu","name","url","auth","categories","id","title","error","sidebar","modal","video","request","text","actions","fetch","get","response","listener","toogleSidebar","toogleModal","toogleRequest","payload","toogleVideo","useCustomState","setState","push","filter","li"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nlet listeners = [];\n\nlet state = {\n  data: {\n    menu: [\n      {\n        name: \"홈\",\n        url: \"/\",\n      },\n      {\n        name: \"코스추천\",\n        url: \"/survey\",\n      },\n      {\n        name: \"관광지\",\n        url: \"/place\",\n      },\n      {\n        name: \"나의 코스관리\",\n        url: \"/mypage\",\n      },\n      \n      { name: \"관리자 페이지\",\n        url: \"/manage\",\n        auth:\"admin\"},\n    \n    ],\n    categories: [\n      {\n        id: \"12\",\n        title: \"관광지\",\n      },\n      {\n        id: \"14\",\n        title: \"문화시설\",\n      },\n      {\n        id: \"15\",\n        title: \"축제/공연/행사\",\n      },\n      {\n        id: \"25\",\n        title: \"여행코스\",\n      },\n      {\n        id: \"28\",\n        title: \"레포츠\",\n      },\n      {\n        id: \"32\",\n        title: \"쇼핑\",\n      },\n      {\n        id: \"39\",\n        title: \"음식\",\n      },\n    ],\n    \n  },\n  \n  error: null,\n  sidebar: false,\n  modal: false,\n  video: false,\n  request: {\n    modal: false,\n    text: \"\",\n  },\n};\n\nconst actions = {\n  fetch: async () => {\n    try {\n      const response = await axios.get(\n        \"/api/data\"\n      );\n      state = { ...state, data: response.data };\n    } catch (err) {\n      state = { ...state, error: err };\n    }\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleSidebar: () => {\n    state = { ...state, sidebar: !state.sidebar };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleModal: () => {\n    state = { ...state, modal: !state.modal };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleRequest: (payload) => {\n    state = {\n      ...state,\n      request: { modal: !state.request.modal, text: payload },\n    };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleVideo: () => {\n    state = { ...state, video: !state.video };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n};\n\nexport const useCustomState = () => {\n  const setState = useState(state)[1];\n\n  useEffect(() => {\n    listeners.push(setState);\n\n    return () => {\n      listeners = listeners.filter((li) => li !== setState);\n    };\n  }, [setState]);\n\n  return [state, actions];\n};"]},"metadata":{},"sourceType":"module"}